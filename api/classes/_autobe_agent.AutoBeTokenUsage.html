<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>AutoBeTokenUsage | AutoBE</title><meta name="description" content="Documentation for AutoBE"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">AutoBE</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/_autobe_agent.html">@autobe/agent</a></li><li><a href="" aria-current="page">AutoBeTokenUsage</a></li></ul><h1>Class AutoBeTokenUsage</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Comprehensive token usage tracker for the AutoBe vibe coding system.</p>
<p>This class provides centralized tracking and management of token consumption
across all AI agents in the automated development pipeline. It captures
detailed token usage statistics for each processing phase - from initial
requirements analysis through final implementation - enabling cost
monitoring, performance optimization, and resource utilization analysis.</p>
<p>The token usage data includes both input tokens (with cache efficiency) and
output tokens (with generation type breakdowns), providing insights into AI
processing efficiency and helping optimize the balance between computational
costs and output quality.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-author"><h4 class="tsd-anchor-link" id="author">Author<a href="#author" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>SunRabbit123</p>
</div></div></section><section class="tsd-panel"><h4>Implements</h4><ul class="tsd-hierarchy"><li><a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-interface">IAutoBeTokenUsageJson</a></li></ul></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L22">context/AutoBeTokenUsage.ts:22</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#analyze" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>analyze</span></a>
<a href="#facade" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>facade</span></a>
<a href="#interface" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>interface</span></a>
<a href="#prisma" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>prisma</span></a>
<a href="#realize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>realize</span></a>
<a href="#test" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>test</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Accessors</h3><div class="tsd-index-list"><a href="#aggregate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>aggregate</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#assign" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>assign</span></a>
<a href="#increment" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>increment</span></a>
<a href="#record" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>record</span></a>
<a href="#tojson" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>JSON</span></a>
<a href="#plus" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>plus</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorautobetokenusage"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">AutoBeTokenUsage</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a><a href="#constructorautobetokenusage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Default Constructor.</p>
<p>Creates a new token usage tracker with all agent phases initialized to
empty components. Each component starts with zero values for all token
counters, providing a clean slate for tracking token consumption from the
beginning of a vibe coding session.</p>
</div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L109">context/AutoBeTokenUsage.ts:109</a></li></ul></aside></div></li><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorautobetokenusage-1"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">AutoBeTokenUsage</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">bind</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a><a href="#constructorautobetokenusage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Binding Constructor.</p>
<p>Creates a new instance that shares component references with the provided
AutoBeTokenUsage instance. This establishes a bound relationship where both
instances point to the same component objects. Any modifications to token
counts through either instance will be reflected in both, enabling shared
tracking across different contexts.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">bind</span>: <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a></span><div class="tsd-comment tsd-typography"><p>Existing AutoBeTokenUsage instance to bind to</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L122">context/AutoBeTokenUsage.ts:122</a></li></ul></aside></div></li><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorautobetokenusage-2"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">AutoBeTokenUsage</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">props</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-interface">IAutoBeTokenUsageJson</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;aggregate&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a><a href="#constructorautobetokenusage-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initializer Constructor.</p>
<p>Reconstructs a token usage tracker from serialized JSON data. Creates new
AutoBeTokenUsageComponent instances for each agent phase, initializing them
with the corresponding values from the JSON structure. This enables
restoration of token usage state from persisted data or transmission
between different parts of the system.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">props</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-interface">IAutoBeTokenUsageJson</a><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">&quot;aggregate&quot;</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Token usage data in JSON format</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L135">context/AutoBeTokenUsage.ts:135</a></li></ul></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="analyze"><code class="tsd-tag">Readonly</code><span>analyze</span><a href="#analyze" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">analyze</span><span class="tsd-signature-symbol">:</span> <a href="_autobe_agent.AutoBeTokenUsageComponent.html" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsageComponent</a></div><div class="tsd-comment tsd-typography"><p>Token usage for the requirements analysis agent.</p>
<p>Captures tokens used during the analysis phase where user requirements are
processed, understood, and transformed into structured specifications for
subsequent development phases.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html">IAutoBeTokenUsageJson</a>.<a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html#analyze">analyze</a></p><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L39">context/AutoBeTokenUsage.ts:39</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="facade"><code class="tsd-tag">Readonly</code><span>facade</span><a href="#facade" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">facade</span><span class="tsd-signature-symbol">:</span> <a href="_autobe_agent.AutoBeTokenUsageComponent.html" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsageComponent</a></div><div class="tsd-comment tsd-typography"><p>Token usage for the facade agent orchestrating the entire pipeline.</p>
<p>Tracks tokens consumed by the initial agent that coordinates and manages
the overall vibe coding process, including request parsing and response
orchestration.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html">IAutoBeTokenUsageJson</a>.<a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html#facade">facade</a></p><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L30">context/AutoBeTokenUsage.ts:30</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="interface"><code class="tsd-tag">Readonly</code><span>interface</span><a href="#interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">interface</span><span class="tsd-signature-symbol">:</span> <a href="_autobe_agent.AutoBeTokenUsageComponent.html" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsageComponent</a></div><div class="tsd-comment tsd-typography"><p>Token usage for the API interface specification agent.</p>
<p>Tracks tokens used in creating OpenAPI/Swagger specifications, defining
endpoints, request/response structures, and API documentation.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html">IAutoBeTokenUsageJson</a>.<a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html#interface">interface</a></p><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L56">context/AutoBeTokenUsage.ts:56</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="prisma"><code class="tsd-tag">Readonly</code><span>prisma</span><a href="#prisma" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">prisma</span><span class="tsd-signature-symbol">:</span> <a href="_autobe_agent.AutoBeTokenUsageComponent.html" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsageComponent</a></div><div class="tsd-comment tsd-typography"><p>Token usage for the Prisma database schema generation agent.</p>
<p>Records tokens consumed while designing and generating database schemas,
including entity relationships, field definitions, and database-specific
optimizations.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html">IAutoBeTokenUsageJson</a>.<a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html#prisma">prisma</a></p><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L48">context/AutoBeTokenUsage.ts:48</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="realize"><code class="tsd-tag">Readonly</code><span>realize</span><a href="#realize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">realize</span><span class="tsd-signature-symbol">:</span> <a href="_autobe_agent.AutoBeTokenUsageComponent.html" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsageComponent</a></div><div class="tsd-comment tsd-typography"><p>Token usage for the implementation realization agent.</p>
<p>Captures tokens used in the final implementation phase where actual
business logic, controllers, services, and integration code are generated.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html">IAutoBeTokenUsageJson</a>.<a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html#realize">realize</a></p><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L72">context/AutoBeTokenUsage.ts:72</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="test"><code class="tsd-tag">Readonly</code><span>test</span><a href="#test" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">test</span><span class="tsd-signature-symbol">:</span> <a href="_autobe_agent.AutoBeTokenUsageComponent.html" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsageComponent</a></div><div class="tsd-comment tsd-typography"><p>Token usage for the test code generation agent.</p>
<p>Monitors tokens consumed during automated test creation, including scenario
planning, test case generation, and end-to-end test implementation.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html">IAutoBeTokenUsageJson</a>.<a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html#test">test</a></p><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L64">context/AutoBeTokenUsage.ts:64</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Accessors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Accessors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="aggregate"><span>aggregate</span><a href="#aggregate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li><div class="tsd-signature" id="aggregateaggregate"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">aggregate</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../modules/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-namespace">IAutoBeTokenUsageJson</a><span class="tsd-signature-symbol">.</span><a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.IComponent.html" class="tsd-signature-type tsd-kind-interface">IComponent</a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Aggregated token usage statistics across all agents.</p>
<p>Provides a unified view of token consumption by combining data from all
processing phases in the vibe coding pipeline. This computed property
dynamically calculates the sum of all agent components (facade, analyze,
prisma, interface, test, realize) whenever accessed, ensuring the aggregate
always reflects the current state of token usage.</p>
<p>The aggregation performs element-wise addition across all token metrics,
including total counts, input breakdowns with cache statistics, and output
categorizations by generation type. This comprehensive view enables overall
cost assessment and resource utilization analysis for the entire automated
development session.</p>
</div><h4 class="tsd-returns-title">Returns <a href="../modules/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-namespace">IAutoBeTokenUsageJson</a><span class="tsd-signature-symbol">.</span><a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.IComponent.html" class="tsd-signature-type tsd-kind-interface">IComponent</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html">IAutoBeTokenUsageJson</a>.<a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html#aggregate">aggregate</a></p><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L89">context/AutoBeTokenUsage.ts:89</a></li></ul></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="assign"><span>assign</span><a href="#assign" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="assign-1"><span class="tsd-kind-call-signature">assign</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">props</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-interface">IAutoBeTokenUsageJson</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#assign-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">props</span>: <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-interface">IAutoBeTokenUsageJson</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L165">context/AutoBeTokenUsage.ts:165</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="increment"><span>increment</span><a href="#increment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="increment-1"><span class="tsd-kind-call-signature">increment</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">usage</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a><a href="#increment-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Increment current token usage with data from another instance.</p>
<p>Adds token usage statistics from another AutoBeTokenUsage instance to this
one, updating all agent phases simultaneously. This method is useful for
combining token usage from parallel processing, multiple runs, or when
aggregating statistics from distributed agent executions.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">usage</span>: <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a></span><div class="tsd-comment tsd-typography"><p>AutoBeTokenUsage instance to add to current statistics</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a></h4><p>This instance for method chaining</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L239">context/AutoBeTokenUsage.ts:239</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="record"><span>record</span><a href="#record" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="record-1"><span class="tsd-kind-call-signature">record</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">usage</span><span class="tsd-signature-symbol">:</span> <a href="../modules/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-namespace">IAutoBeTokenUsageJson</a><span class="tsd-signature-symbol">.</span><a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.IComponent.html" class="tsd-signature-type tsd-kind-interface">IComponent</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">additionalStages</span><span class="tsd-signature-symbol">?:</span> (<span class="tsd-signature-keyword">keyof</span> <span class="tsd-signature-type">IAutoBeApplication</span>)<span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#record-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Record token usage for specific processing stages.</p>
<p>Updates token consumption statistics for one or more agent phases based on
the provided usage data. This method allows selective recording of token
usage for specific stages, enabling fine-grained tracking during
multi-phase processing or when certain agents are invoked multiple times.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">usage</span>: <a href="../modules/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-namespace">IAutoBeTokenUsageJson</a><span class="tsd-signature-symbol">.</span><a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.IComponent.html" class="tsd-signature-type tsd-kind-interface">IComponent</a></span><div class="tsd-comment tsd-typography"><p>Token usage component data to record</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">additionalStages</span>: (<span class="tsd-signature-keyword">keyof</span> <span class="tsd-signature-type">IAutoBeApplication</span>)<span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"><p>Array of stage names to update with the usage
data</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-0">  </span><span class="hl-1">tokenUsage</span><span class="hl-0">.</span><span class="hl-2">record</span><span class="hl-0">(</span><br/><span class="hl-0">    { </span><span class="hl-1">total:</span><span class="hl-0"> </span><span class="hl-3">150</span><span class="hl-0">, </span><span class="hl-1">input:</span><span class="hl-0"> { </span><span class="hl-1">total:</span><span class="hl-0"> </span><span class="hl-3">100</span><span class="hl-0">, </span><span class="hl-1">cached:</span><span class="hl-0"> </span><span class="hl-3">20</span><span class="hl-0"> }, </span><span class="hl-1">output:</span><span class="hl-0"> { </span><span class="hl-1">total:</span><span class="hl-0"> </span><span class="hl-3">50</span><span class="hl-0">, ... } },</span><br/><span class="hl-0">    [</span><span class="hl-4">&#39;analyze&#39;</span><span class="hl-0">, </span><span class="hl-4">&#39;prisma&#39;</span><span class="hl-0">]</span><br/><span class="hl-0">  );</span><br/><span class="hl-0">  </span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L219">context/AutoBeTokenUsage.ts:219</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="tojson"><span>to<wbr/>JSON</span><a href="#tojson" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="tojson-1"><span class="tsd-kind-call-signature">toJSON</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-interface">IAutoBeTokenUsageJson</a><a href="#tojson-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Serialize token usage data to JSON format.</p>
<p>Converts the internal token usage representation to the standardized
IAutoBeTokenUsageJson format, suitable for persistence, transmission, or
external analysis. The serialized data maintains the complete structure
including all agent phases and detailed token breakdowns.</p>
</div><h4 class="tsd-returns-title">Returns <a href="../interfaces/_autobe_interface.IAutoBeTokenUsageJson.html" class="tsd-signature-type tsd-kind-interface">IAutoBeTokenUsageJson</a></h4><p>JSON representation of token usage statistics</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L184">context/AutoBeTokenUsage.ts:184</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="plus"><code class="tsd-tag">Static</code><span>plus</span><a href="#plus" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="plus-1"><span class="tsd-kind-call-signature">plus</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">usageA</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">usageB</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a><a href="#plus-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create a new instance combining token usage from two sources.</p>
<p>Performs element-wise addition of token usage statistics from two
AutoBeTokenUsage instances, creating a new instance with the combined
totals. This static method is useful for aggregating token usage across
multiple vibe coding sessions or when merging statistics from different
execution contexts.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">usageA</span>: <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a></span><div class="tsd-comment tsd-typography"><p>First token usage instance</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">usageB</span>: <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a></span><div class="tsd-comment tsd-typography"><p>Second token usage instance</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">AutoBeTokenUsage</a></h4><p>New instance with combined token usage statistics</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/dorucioclea/autobe/blob/c009ac4ff8caed1f8106e41e0f37446176e8bf7d/packages/agent/src/context/AutoBeTokenUsage.ts#L267">context/AutoBeTokenUsage.ts:267</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#analyze"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>analyze</span></a><a href="#facade"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>facade</span></a><a href="#interface"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>interface</span></a><a href="#prisma"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>prisma</span></a><a href="#realize"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>realize</span></a><a href="#test"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>test</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Accessors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Accessors</summary><div><a href="#aggregate"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>aggregate</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#assign"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>assign</span></a><a href="#increment"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>increment</span></a><a href="#record"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>record</span></a><a href="#tojson"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>JSON</span></a><a href="#plus"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>plus</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html">AutoBE</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
